<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //Function to randomly picks rock paper or scissors
      let getComputerChoice = () => {
        //create an array of the the 3 possible moves
        //so that we can randomly access one
        const gameChoice = ["rock", "paper", "scissors"];

        const randomChoice =
          gameChoice[Math.floor(Math.random() * gameChoice.length)];
        return randomChoice;
      };
      //Function to play one round of rock paper scissors
      let playRound = (playerSelection, computerSelection) => {
        //Convert playerSelection to lowercase so we can begin comparing
        const playerSelectionLower = playerSelection.toLowerCase();
        //case where player is same as computer just output tie
        if (playerSelectionLower == computerSelection) {
          return "Tie";
        }
        //if not the same then execute following check
        //if playerselection is rock and
        //computerselection is paper then computer wins
        if (playerSelectionLower == "rock" && computerSelection == "paper") {
          return false;
        }
        //case where you're rock and computer is scissors
        if (playerSelectionLower == "rock" && computerSelection == "scissors") {
          return true;
        }
        //case where you're paper and computer is rock
        if (playerSelectionLower == "paper" && computerSelection == "rock") {
          return true;
        }
        //case where you're paper and computer is scissors
        if (
          playerSelectionLower == "paper" &&
          computerSelection == "scissors"
        ) {
          return false;
        }
        //case where you're scissors and computer is rock
        if (playerSelectionLower == "scissors" && computerSelection == "rock") {
          return false;
        }
        //case where you're scissors and computer is paper
        if (playerSelection == "scissors" && computerSelection == "paper") {
          return true;
        }
      };
      
      let game = () =>{
        const userChoice = prompt("pick your choice");
        console.log('Your choice ' + userChoice);
        let youWin = 0;
        let computerWin = 0;
        let compChoice;
        for (let i = 0; i < 5; i++) {
          compChoice = getComputerChoice();
          console.log("playing against " + compChoice);
          let play = playRound(userChoice,compChoice);
          if(play == "Tie"){
            console.log("You guys tied this round.");
          }
          else if(play){
            console.log("You win this round");
            youWin++;
          }
          else if(!play){
            console.log("You lose this");
            computerWin++;
          }
        }
        console.log("Your score: " + youWin + ", Computer score: " + computerWin);
        if(youWin==computerWin){
          return "Lame... You tied with the computer";
        }
        if(youWin>computerWin){
          return "You win!";
        }
        return "You lose."

      }
      //DRIVER
      console.log(game());
    </script>
  </body>
</html>
